<div class="container-fluid" define='{
  gamesTable: new Admin.GamesTable(
  )}'
  context='gamesTable'>
  <h1>Games</h1>

  <table class="table table-hover">
    <thead>
      <tr>
        <th>Name</th>
        <th>Field</th>
        <th>Score</th>
      </tr>
    </thead>

    <tbody>
      <% @games.group_by{|g| g.start_time }.each do |time, games| %>
        <tr class="active">
          <td>
            <strong>
              <% if time.present? %>
                <%= time.to_formatted_s(:datetimepicker) %>
              <% else %>
                To be scheduled
              <% end %>
            </strong>
          </td>
          <td></td>
          <td></td>
        </tr>

        <% games.each do |game| %>
          <%= render 'game', tournament: @tournament, game: game %>
        <% end %>
      <% end %>
    </tbody>

  </table>
</div>

<script>
  $( document ).ready(function() {
    $("[data-toggle=popover]").popover({
      html: true
    });
  });
</script>
