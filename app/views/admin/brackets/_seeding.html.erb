<% refresh_key = "#{division}-seeds" %>

<div id="<%= refresh_key %>">
  <h4>Seeding</h4>

  <%= form_tag update_seeds_tournament_admin_brackets_path(@tournament),
      method: :put,
      'bind-event-submit' => "updateSeeds(this, '#{refresh_key}')" do %>

    <table class="table table-bordered table-striped table-hover table-condensed">
      <thead>
        <tr>
          <th>Team</th>
          <th>seed</th>
        </tr>
      </thead>
      <tbody>
        <% teams.sort_by{ |t| t.seed || 1000 }.each do |team| %>
          <tr>
            <%= hidden_field_tag 'team_ids[]', team.id %>
            <td><%= team.name %></td>
            <td class="td-input">
              <div class="td-input">
                <%= number_field_tag 'seeds[]', team.seed, class: 'td-input form-control' %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <%= submit_tag 'Save', class: "btn btn-default pull-right" %>
  <% end %>
</div>
